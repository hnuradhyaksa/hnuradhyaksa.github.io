import{I as w,i as M}from"./CgxScFLb.js";function k(n,r,a){n=+n,r=+r,a=(e=arguments.length)<2?(r=n,n=0,1):e<3?1:+a;for(var t=-1,e=Math.max(0,Math.ceil((r-n)/a))|0,u=new Array(e);++t<e;)u[t]=n+t*a;return u}function O(n){let r;for(;r=n.sourceEvent;)n=r;return n}function S(n,r){if(n=O(n),r===void 0&&(r=n.currentTarget),r){var a=r.ownerSVGElement||r;if(a.createSVGPoint){var t=a.createSVGPoint();return t.x=n.clientX,t.y=n.clientY,t=t.matrixTransform(r.getScreenCTM().inverse()),[t.x,t.y]}if(r.getBoundingClientRect){var e=r.getBoundingClientRect();return[n.clientX-e.left-r.clientLeft,n.clientY-e.top-r.clientTop]}}return[n.pageX,n.pageY]}const y=Symbol("implicit");function x(){var n=new w,r=[],a=[],t=y;function e(u){let o=n.get(u);if(o===void 0){if(t!==y)return t;n.set(u,o=r.push(u)-1)}return a[o%a.length]}return e.domain=function(u){if(!arguments.length)return r.slice();r=[],n=new w;for(const o of u)n.has(o)||n.set(o,r.push(o)-1);return e},e.range=function(u){return arguments.length?(a=Array.from(u),e):a.slice()},e.unknown=function(u){return arguments.length?(t=u,e):t},e.copy=function(){return x(r,a).unknown(t)},M.apply(e,arguments),e}function I(){var n=x().unknown(void 0),r=n.domain,a=n.range,t=0,e=1,u,o,f=!1,c=0,d=0,m=.5;delete n.unknown;function g(){var i=r().length,s=e<t,l=s?e:t,h=s?t:e;u=(h-l)/Math.max(1,i-c+d*2),f&&(u=Math.floor(u)),l+=(h-l-u*(i-c))*m,o=u*(1-c),f&&(l=Math.round(l),o=Math.round(o));var p=k(i).map(function(b){return l+u*b});return a(s?p.reverse():p)}return n.domain=function(i){return arguments.length?(r(i),g()):r()},n.range=function(i){return arguments.length?([t,e]=i,t=+t,e=+e,g()):[t,e]},n.rangeRound=function(i){return[t,e]=i,t=+t,e=+e,f=!0,g()},n.bandwidth=function(){return o},n.step=function(){return u},n.round=function(i){return arguments.length?(f=!!i,g()):f},n.padding=function(i){return arguments.length?(c=Math.min(1,d=+i),g()):c},n.paddingInner=function(i){return arguments.length?(c=Math.min(1,i),g()):c},n.paddingOuter=function(i){return arguments.length?(d=+i,g()):d},n.align=function(i){return arguments.length?(m=Math.max(0,Math.min(1,i)),g()):m},n.copy=function(){return I(r(),[t,e]).round(f).paddingInner(c).paddingOuter(d).align(m)},M.apply(g(),arguments)}function v(n){var r=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return v(r())},n}function E(){return v(I.apply(null,arguments).paddingInner(1))}export{E as a,I as b,y as i,x as o,S as p,k as r,O as s};
