import{E as $,B as y,k as L,e as q,u as M,l as U,q as j,n as T,T as G,m as O,o as K,p as P,s as S,t as x,v as W}from"./Al65JWDl.js";import{l as k}from"./BGGTUj09.js";import{s as z}from"./C5NbSWfj.js";import{c as D}from"./Cx8jQJGV.js";function E(t,i){t.dispatchEvent(new CustomEvent(i))}function H(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const i=t.split("-");return i.length===1?i[0]:i[0]+i.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function B(t){const i={},a=t.split(";");for(const e of a){const[r,s]=e.split(":");if(!r||s===void 0)break;const f=H(r.trim());i[f]=s.trim()}return i}const J=t=>t;function ii(t,i,a){var e=D,r,s,f,h=null;e.a??(e.a={element:t,measure(){r=this.element.getBoundingClientRect()},apply(){if(f==null||f.abort(),s=this.element.getBoundingClientRect(),r.left!==s.left||r.right!==s.right||r.top!==s.top||r.bottom!==s.bottom){const c=i()(this.element,{from:r,to:s},a==null?void 0:a());f=N(this.element,c,void 0,1,()=>{f==null||f.abort(),f=void 0})}},fix(){if(!t.getAnimations().length){var{position:c,width:_,height:u}=getComputedStyle(t);if(c!=="absolute"&&c!=="fixed"){var v=t.style;h={position:v.position,width:v.width,height:v.height,transform:v.transform},v.position="absolute",v.width=_,v.height=u;var n=t.getBoundingClientRect();if(r.left!==n.left||r.top!==n.top){var o=`translate(${r.left-n.left}px, ${r.top-n.top}px)`;v.transform=v.transform?`${v.transform} ${o}`:o}}}},unfix(){if(h){var c=t.style;c.position=h.position,c.width=h.width,c.height=h.height,c.transform=h.transform}}}),e.a.element=t}function ti(t,i,a,e){var r=(t&G)!==0,s=(t&K)!==0,f=r&&s,h=(t&P)!==0,c=f?"both":r?"in":"out",_,u=i.inert,v=i.style.overflow,n,o;function g(){var d=W,w=O;S(null),x(null);try{return _??(_=a()(i,(e==null?void 0:e())??{},{direction:c}))}finally{S(d),x(w)}}var l={is_global:h,in(){var d;if(i.inert=u,!r){o==null||o.abort(),(d=o==null?void 0:o.reset)==null||d.call(o);return}s||n==null||n.abort(),E(i,"introstart"),n=N(i,g(),o,1,()=>{E(i,"introend"),n==null||n.abort(),n=_=void 0,i.style.overflow=v})},out(d){if(!s){d==null||d(),_=void 0;return}i.inert=!0,E(i,"outrostart"),o=N(i,g(),n,0,()=>{E(i,"outroend"),d==null||d()})},stop:()=>{n==null||n.abort(),o==null||o.abort()}},b=O;if((b.transitions??(b.transitions=[])).push(l),r&&z){var m=h;if(!m){for(var p=b.parent;p&&p.f&$;)for(;(p=p.parent)&&!(p.f&y););m=!p||(p.f&L)!==0}m&&q(()=>{M(()=>l.in())})}}function N(t,i,a,e,r){var s=e===1;if(U(i)){var f,h=!1;return j(()=>{if(!h){var b=i({direction:s?"in":"out"});f=N(t,b,a,e,r)}}),{abort:()=>{h=!0,f==null||f.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a==null||a.deactivate(),!(i!=null&&i.duration))return r(),{abort:T,deactivate:T,reset:T,t:()=>e};const{delay:c=0,css:_,tick:u,easing:v=J}=i;var n=[];if(s&&a===void 0&&(u&&u(0,1),_)){var o=B(_(0,1));n.push(o,o)}var g=()=>1-e,l=t.animate(n,{duration:c});return l.onfinish=()=>{var b=(a==null?void 0:a.t())??1-e;a==null||a.abort();var m=e-b,p=i.duration*Math.abs(m),d=[];if(p>0){var w=!1;if(_)for(var A=Math.ceil(p/16.666666666666668),R=0;R<=A;R+=1){var F=b+m*v(R/A),I=B(_(F,1-F));d.push(I),w||(w=I.overflow==="hidden")}w&&(t.style.overflow="hidden"),g=()=>{var C=l.currentTime;return b+m*v(C/p)},u&&k(()=>{if(l.playState!=="running")return!1;var C=g();return u(C,1-C),!0})}l=t.animate(d,{duration:p,fill:"forwards"}),l.onfinish=()=>{g=()=>e,u==null||u(e,1-e),r()}},{abort:()=>{l&&(l.cancel(),l.effect=null,l.onfinish=T)},deactivate:()=>{r=T},reset:()=>{e===0&&(u==null||u(1,0))},t:()=>g()}}const Q=t=>t;function ri(t,{delay:i=0,duration:a=400,easing:e=Q}={}){const r=+getComputedStyle(t).opacity;return{delay:i,duration:a,easing:e,css:s=>`opacity: ${s*r}`}}export{ii as a,ri as f,ti as t};
