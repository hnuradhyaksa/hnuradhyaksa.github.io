import{E as M,B as q,A as G,e as K,u as U,T as $,C as R,D as g,q as j,F as E,G as x,I as D,J as S,K as B,M as J}from"./C_lGXYEL.js";import{l as P}from"./BGGTUj09.js";import{s as W}from"./CyO4QWwJ.js";function A(a,r){a.dispatchEvent(new CustomEvent(r))}function z(a){if(a==="float")return"cssFloat";if(a==="offset")return"cssOffset";if(a.startsWith("--"))return a;const r=a.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(i=>i[0].toUpperCase()+i.slice(1)).join("")}function L(a){const r={},i=a.split(";");for(const t of i){const[f,c]=t.split(":");if(!f||c===void 0)break;const d=z(f.trim());r[d]=c.trim()}return r}const H=a=>a;function Z(a,r,i,t){var f=(a&$)!==0,c=(a&x)!==0,d=f&&c,y=(a&D)!==0,C=d?"both":f?"in":"out",l,v=r.inert,N=r.style.overflow,e,s;function h(){var n=J,b=R;S(null),B(null);try{return l??(l=i()(r,(t==null?void 0:t())??{},{direction:C}))}finally{S(n),B(b)}}var o={is_global:y,in(){var n;if(r.inert=v,!f){s==null||s.abort(),(n=s==null?void 0:s.reset)==null||n.call(s);return}c||e==null||e.abort(),A(r,"introstart"),e=I(r,h(),s,1,()=>{A(r,"introend"),e==null||e.abort(),e=l=void 0,r.style.overflow=N})},out(n){if(!c){n==null||n(),l=void 0;return}r.inert=!0,A(r,"outrostart"),s=I(r,h(),e,0,()=>{A(r,"outroend"),n==null||n()})},stop:()=>{e==null||e.abort(),s==null||s.abort()}},_=R;if((_.transitions??(_.transitions=[])).push(o),f&&W){var T=y;if(!T){for(var u=_.parent;u&&u.f&M;)for(;(u=u.parent)&&!(u.f&q););T=!u||(u.f&G)!==0}T&&K(()=>{U(()=>o.in())})}}function I(a,r,i,t,f){var c=t===1;if(g(r)){var d,y=!1;return j(()=>{if(!y){var _=r({direction:c?"in":"out"});d=I(a,_,i,t,f)}}),{abort:()=>{y=!0,d==null||d.abort()},deactivate:()=>d.deactivate(),reset:()=>d.reset(),t:()=>d.t()}}if(i==null||i.deactivate(),!(r!=null&&r.duration))return f(),{abort:E,deactivate:E,reset:E,t:()=>t};const{delay:C=0,css:l,tick:v,easing:N=H}=r;var e=[];if(c&&i===void 0&&(v&&v(0,1),l)){var s=L(l(0,1));e.push(s,s)}var h=()=>1-t,o=a.animate(e,{duration:C});return o.onfinish=()=>{var _=(i==null?void 0:i.t())??1-t;i==null||i.abort();var T=t-_,u=r.duration*Math.abs(T),n=[];if(u>0){var b=!1;if(l)for(var w=Math.ceil(u/16.666666666666668),F=0;F<=w;F+=1){var O=_+T*N(F/w),m=L(l(O,1-O));n.push(m),b||(b=m.overflow==="hidden")}b&&(a.style.overflow="hidden"),h=()=>{var p=o.currentTime;return _+T*N(p/u)},v&&P(()=>{if(o.playState!=="running")return!1;var p=h();return v(p,1-p),!0})}o=a.animate(n,{duration:u,fill:"forwards"}),o.onfinish=()=>{h=()=>t,v==null||v(t,1-t),f()}},{abort:()=>{o&&(o.cancel(),o.effect=null,o.onfinish=E)},deactivate:()=>{f=E},reset:()=>{t===0&&(v==null||v(1,0))},t:()=>h()}}const Q=a=>a;function k(a,{delay:r=0,duration:i=400,easing:t=Q}={}){const f=+getComputedStyle(a).opacity;return{delay:r,duration:i,easing:t,css:c=>`opacity: ${c*f}`}}export{k as f,Z as t};
