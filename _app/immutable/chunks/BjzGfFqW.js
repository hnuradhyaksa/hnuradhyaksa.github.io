import{q as D,r as U,u as _t,m as V,a as X,v as mt,w as wt,x as Mt,o as Nt,i as lt,y as Y,z as At,g as kt,A as Et}from"./BRkQNr4r.js";import{n as jt}from"./CZChVcgU.js";import{w as qt}from"./DjUqU7WF.js";import{r as zt,l as It}from"./BGGTUj09.js";import{l as bt}from"./CHzgDdPA.js";function $t(t,e){return Array.from(e,n=>t[n])}function Jn(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const f of e){const u=S(f[i],f[o]);if(u)return u}})):(n=t.map(n),r.sort((i,o)=>S(n[i],n[o]))),$t(t,r)}return t.sort(ht(n))}function ht(t=D){if(t===D)return S;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function S(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Dt(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Ct(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function F(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?S:ht(i);r>n;){if(r-n>600){const s=r-n+1,a=e-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),y=.5*Math.sqrt(l*c*(s-c)/s)*(a-s/2<0?-1:1),d=Math.max(n,Math.floor(e-a*c/s+y)),p=Math.min(r,Math.floor(e+(s-a)*c/s+y));F(t,e,d,p,i)}const o=t[e];let f=n,u=r;for(C(t,n,e),i(t[r],o)>0&&C(t,n,r);f<u;){for(C(t,f,u),++f,--u;i(t[f],o)<0;)++f;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?C(t,n,u):(++u,C(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function C(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Rt(t,e=D){let n,r=!1;if(e.length===1){let i;for(const o of t){const f=e(o);(r?D(f,i)>0:D(f,f)===0)&&(n=o,i=f,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Kn(t,e,n){if(t=Float64Array.from(_t(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return V(t);if(e>=1)return X(t);var r,i=(r-1)*e,o=Math.floor(i),f=X(F(t,o).subarray(0,o+1)),u=V(t.subarray(o+1));return f+(u-f)*(i-o)}}function St(t,e,n=U){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),f=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return f+(u-f)*(i-o)}}function Bn(t,e,n=U){if(!isNaN(e=+e)){if(r=Float64Array.from(t,(u,s)=>U(n(t[s],s,t))),e<=0)return Ct(r);if(e>=1)return Dt(r);var r,i=Uint32Array.from(t,(u,s)=>s),o=r.length-1,f=Math.floor(o*e);return F(i,f,0,o,(u,s)=>S(r[u],r[s])),f=Rt(i.subarray(0,f+1),u=>r[u]),f>=0?f:-1}}function Tt(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return ct(this.cover(e,n),e,n,t)}function ct(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o=t._root,f={data:r},u=t._x0,s=t._y0,a=t._x1,l=t._y1,c,y,d,p,h,x,g,v;if(!o)return t._root=f,t;for(;o.length;)if((h=e>=(c=(u+a)/2))?u=c:a=c,(x=n>=(y=(s+l)/2))?s=y:l=y,i=o,!(o=o[g=x<<1|h]))return i[g]=f,t;if(d=+t._x.call(null,o.data),p=+t._y.call(null,o.data),e===d&&n===p)return f.next=o,i?i[g]=f:t._root=f,t;do i=i?i[g]=new Array(4):t._root=new Array(4),(h=e>=(c=(u+a)/2))?u=c:a=c,(x=n>=(y=(s+l)/2))?s=y:l=y;while((g=x<<1|h)===(v=(p>=y)<<1|d>=c));return i[v]=o,i[g]=f,t}function Lt(t){var e,n,r=t.length,i,o,f=new Array(r),u=new Array(r),s=1/0,a=1/0,l=-1/0,c=-1/0;for(n=0;n<r;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(f[n]=i,u[n]=o,i<s&&(s=i),i>l&&(l=i),o<a&&(a=o),o>c&&(c=o));if(s>l||a>c)return this;for(this.cover(s,a).cover(l,c),n=0;n<r;++n)ct(this,f[n],u[n],t[n]);return this}function Ot(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var f=i-n||1,u=this._root,s,a;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,s=new Array(4),s[a]=u,u=s,f*=2,a){case 0:i=n+f,o=r+f;break;case 1:n=i-f,o=r+f;break;case 2:i=n+f,r=o-f;break;case 3:n=i-f,r=o-f;break}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Pt(){var t=[];return this.visit(function(e){if(!e.length)do t.push(e.data);while(e=e.next)}),t}function Qt(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function N(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ut(t,e,n){var r,i=this._x0,o=this._y0,f,u,s,a,l=this._x1,c=this._y1,y=[],d=this._root,p,h;for(d&&y.push(new N(d,i,o,l,c)),n==null?n=1/0:(i=t-n,o=e-n,l=t+n,c=e+n,n*=n);p=y.pop();)if(!(!(d=p.node)||(f=p.x0)>l||(u=p.y0)>c||(s=p.x1)<i||(a=p.y1)<o))if(d.length){var x=(f+s)/2,g=(u+a)/2;y.push(new N(d[3],x,g,s,a),new N(d[2],f,g,x,a),new N(d[1],x,u,s,g),new N(d[0],f,u,x,g)),(h=(e>=g)<<1|t>=x)&&(p=y[y.length-1],y[y.length-1]=y[y.length-1-h],y[y.length-1-h]=p)}else{var v=t-+this._x.call(null,d.data),_=e-+this._y.call(null,d.data),k=v*v+_*_;if(k<n){var M=Math.sqrt(n=k);i=t-M,o=e-M,l=t+M,c=e+M,r=d.data}}return r}function Wt(t){if(isNaN(l=+this._x.call(null,t))||isNaN(c=+this._y.call(null,t)))return this;var e,n=this._root,r,i,o,f=this._x0,u=this._y0,s=this._x1,a=this._y1,l,c,y,d,p,h,x,g;if(!n)return this;if(n.length)for(;;){if((p=l>=(y=(f+s)/2))?f=y:s=y,(h=c>=(d=(u+a)/2))?u=d:a=d,e=n,!(n=n[x=h<<1|p]))return this;if(!n.length)break;(e[x+1&3]||e[x+2&3]||e[x+3&3])&&(r=e,g=x)}for(;n.data!==t;)if(i=n,!(n=n.next))return this;return(o=n.next)&&delete n.next,i?(o?i.next=o:delete i.next,this):e?(o?e[x]=o:delete e[x],(n=e[0]||e[1]||e[2]||e[3])&&n===(e[3]||e[2]||e[1]||e[0])&&!n.length&&(r?r[g]=n:this._root=n),this):(this._root=o,this)}function Ft(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Gt(){return this._root}function Ht(){var t=0;return this.visit(function(e){if(!e.length)do++t;while(e=e.next)}),t}function Vt(t){var e=[],n,r=this._root,i,o,f,u,s;for(r&&e.push(new N(r,this._x0,this._y0,this._x1,this._y1));n=e.pop();)if(!t(r=n.node,o=n.x0,f=n.y0,u=n.x1,s=n.y1)&&r.length){var a=(o+u)/2,l=(f+s)/2;(i=r[3])&&e.push(new N(i,a,l,u,s)),(i=r[2])&&e.push(new N(i,o,l,a,s)),(i=r[1])&&e.push(new N(i,a,f,u,l)),(i=r[0])&&e.push(new N(i,o,f,a,l))}return this}function Xt(t){var e=[],n=[],r;for(this._root&&e.push(new N(this._root,this._x0,this._y0,this._x1,this._y1));r=e.pop();){var i=r.node;if(i.length){var o,f=r.x0,u=r.y0,s=r.x1,a=r.y1,l=(f+s)/2,c=(u+a)/2;(o=i[0])&&e.push(new N(o,f,u,l,c)),(o=i[1])&&e.push(new N(o,l,u,s,c)),(o=i[2])&&e.push(new N(o,f,c,l,a)),(o=i[3])&&e.push(new N(o,l,c,s,a))}n.push(r)}for(;r=n.pop();)t(r.node,r.x0,r.y0,r.x1,r.y1);return this}function Yt(t){return t[0]}function Zt(t){return arguments.length?(this._x=t,this):this._x}function Jt(t){return t[1]}function Kt(t){return arguments.length?(this._y=t,this):this._y}function yt(t,e,n){var r=new G(e??Yt,n??Jt,NaN,NaN,NaN,NaN);return t==null?r:r.addAll(t)}function G(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Z(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var A=yt.prototype=G.prototype;A.copy=function(){var t=new G(this._x,this._y,this._x0,this._y0,this._x1,this._y1),e=this._root,n,r;if(!e)return t;if(!e.length)return t._root=Z(e),t;for(n=[{source:e,target:t._root=new Array(4)}];e=n.pop();)for(var i=0;i<4;++i)(r=e.source[i])&&(r.length?n.push({source:r,target:e.target[i]=new Array(4)}):e.target[i]=Z(r));return t};A.add=Tt;A.addAll=Lt;A.cover=Ot;A.data=Pt;A.extent=Qt;A.find=Ut;A.remove=Wt;A.removeAll=Ft;A.root=Gt;A.size=Ht;A.visit=Vt;A.visitAfter=Xt;A.x=Zt;A.y=Kt;function b(t){return function(){return t}}function J(t){return(t()-.5)*1e-6}function Bt(t){return t.x+t.vx}function tn(t){return t.y+t.vy}function te(t){var e,n,r,i=1,o=1;typeof t!="function"&&(t=b(t==null?1:+t));function f(){for(var a,l=e.length,c,y,d,p,h,x,g=0;g<o;++g)for(c=yt(e,Bt,tn).visitAfter(u),a=0;a<l;++a)y=e[a],h=n[y.index],x=h*h,d=y.x+y.vx,p=y.y+y.vy,c.visit(v);function v(_,k,M,I,q){var m=_.data,$=_.r,w=h+$;if(m){if(m.index>y.index){var E=d-m.x-m.vx,z=p-m.y-m.vy,j=E*E+z*z;j<w*w&&(E===0&&(E=J(r),j+=E*E),z===0&&(z=J(r),j+=z*z),j=(w-(j=Math.sqrt(j)))/j*i,y.vx+=(E*=j)*(w=($*=$)/(x+$)),y.vy+=(z*=j)*w,m.vx-=E*(w=1-w),m.vy-=z*w)}return}return k>d+w||I<d-w||M>p+w||q<p-w}}function u(a){if(a.data)return a.r=n[a.data.index];for(var l=a.r=0;l<4;++l)a[l]&&a[l].r>a.r&&(a.r=a[l].r)}function s(){if(e){var a,l=e.length,c;for(n=new Array(l),a=0;a<l;++a)c=e[a],n[c.index]=+t(c,a,e)}}return f.initialize=function(a,l){e=a,r=l,s()},f.iterations=function(a){return arguments.length?(o=+a,f):o},f.strength=function(a){return arguments.length?(i=+a,f):i},f.radius=function(a){return arguments.length?(t=typeof a=="function"?a:b(+a),s(),f):t},f}const nn=1664525,en=1013904223,K=4294967296;function rn(){let t=1;return()=>(t=(nn*t+en)%K)/K}function ne(t){return t.x}function ee(t){return t.y}var on=10,un=Math.PI*(3-Math.sqrt(5));function re(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,f=.6,u=new Map,s=mt(c),a=wt("tick","end"),l=rn();t==null&&(t=[]);function c(){y(),a.call("tick",e),n<r&&(s.stop(),a.call("end",e))}function y(h){var x,g=t.length,v;h===void 0&&(h=1);for(var _=0;_<h;++_)for(n+=(o-n)*i,u.forEach(function(k){k(n)}),x=0;x<g;++x)v=t[x],v.fx==null?v.x+=v.vx*=f:(v.x=v.fx,v.vx=0),v.fy==null?v.y+=v.vy*=f:(v.y=v.fy,v.vy=0);return e}function d(){for(var h=0,x=t.length,g;h<x;++h){if(g=t[h],g.index=h,g.fx!=null&&(g.x=g.fx),g.fy!=null&&(g.y=g.fy),isNaN(g.x)||isNaN(g.y)){var v=on*Math.sqrt(.5+h),_=h*un;g.x=v*Math.cos(_),g.y=v*Math.sin(_)}(isNaN(g.vx)||isNaN(g.vy))&&(g.vx=g.vy=0)}}function p(h){return h.initialize&&h.initialize(t,l),h}return d(),e={tick:y,restart:function(){return s.restart(c),e},stop:function(){return s.stop(),e},nodes:function(h){return arguments.length?(t=h,d(),u.forEach(p),e):t},alpha:function(h){return arguments.length?(n=+h,e):n},alphaMin:function(h){return arguments.length?(r=+h,e):r},alphaDecay:function(h){return arguments.length?(i=+h,e):+i},alphaTarget:function(h){return arguments.length?(o=+h,e):o},velocityDecay:function(h){return arguments.length?(f=1-h,e):1-f},randomSource:function(h){return arguments.length?(l=h,u.forEach(p),e):l},force:function(h,x){return arguments.length>1?(x==null?u.delete(h):u.set(h,p(x)),e):u.get(h)},find:function(h,x,g){var v=0,_=t.length,k,M,I,q,m;for(g==null?g=1/0:g*=g,v=0;v<_;++v)q=t[v],k=h-q.x,M=x-q.y,I=k*k+M*M,I<g&&(m=q,g=I);return m},on:function(h,x){return arguments.length>1?(a.on(h,x),e):a.on(h)}}}function ie(t){var e=b(.1),n,r,i;typeof t!="function"&&(t=b(t==null?0:+t));function o(u){for(var s=0,a=n.length,l;s<a;++s)l=n[s],l.vx+=(i[s]-l.x)*r[s]*u}function f(){if(n){var u,s=n.length;for(r=new Array(s),i=new Array(s),u=0;u<s;++u)r[u]=isNaN(i[u]=+t(n[u],u,n))?0:+e(n[u],u,n)}}return o.initialize=function(u){n=u,f()},o.strength=function(u){return arguments.length?(e=typeof u=="function"?u:b(+u),f(),o):e},o.x=function(u){return arguments.length?(t=typeof u=="function"?u:b(+u),f(),o):t},o}function oe(t){var e=b(.1),n,r,i;typeof t!="function"&&(t=b(t==null?0:+t));function o(u){for(var s=0,a=n.length,l;s<a;++s)l=n[s],l.vy+=(i[s]-l.y)*r[s]*u}function f(){if(n){var u,s=n.length;for(r=new Array(s),i=new Array(s),u=0;u<s;++u)r[u]=isNaN(i[u]=+t(n[u],u,n))?0:+e(n[u],u,n)}}return o.initialize=function(u){n=u,f()},o.strength=function(u){return arguments.length?(e=typeof u=="function"?u:b(+u),f(),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:b(+u),f(),o):t},o}function fn(t){var e=0,n=t.children,r=n&&n.length;if(!r)e=1;else for(;--r>=0;)e+=n[r].value;t.value=e}function sn(){return this.eachAfter(fn)}function an(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function ln(t,e){for(var n=this,r=[n],i,o,f=-1;n=r.pop();)if(t.call(e,n,++f,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function hn(t,e){for(var n=this,r=[n],i=[],o,f,u,s=-1;n=r.pop();)if(i.push(n),o=n.children)for(f=0,u=o.length;f<u;++f)r.push(o[f]);for(;n=i.pop();)t.call(e,n,++s,this);return this}function cn(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function yn(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})}function gn(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function xn(t){for(var e=this,n=pn(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r}function pn(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}function dn(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function vn(){return Array.from(this)}function _n(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function mn(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e}function*wn(){var t=this,e,n=[t],r,i,o;do for(e=n.reverse(),n=[];t=e.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function gt(t,e){t instanceof Map?(t=[void 0,t],e===void 0&&(e=An)):e===void 0&&(e=Nn);for(var n=new O(t),r,i=[n],o,f,u,s;r=i.pop();)if((f=e(r.data))&&(s=(f=Array.from(f)).length))for(r.children=f,u=s-1;u>=0;--u)i.push(o=f[u]=new O(f[u])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(En)}function Mn(){return gt(this).eachBefore(kn)}function Nn(t){return t.children}function An(t){return Array.isArray(t)?t[1]:null}function kn(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function En(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function O(t){this.data=t,this.depth=this.height=0,this.parent=null}O.prototype=gt.prototype={constructor:O,count:sn,each:an,eachAfter:hn,eachBefore:ln,find:cn,sum:yn,sort:gn,path:xn,ancestors:dn,descendants:vn,leaves:_n,links:mn,copy:Mn,[Symbol.iterator]:wn};function jn(t){return t==null?null:qn(t)}function qn(t){if(typeof t!="function")throw new Error;return t}function B(){return 0}function zn(t){return function(){return t}}const In=1664525,bn=1013904223,tt=4294967296;function H(){let t=1;return()=>(t=(In*t+bn)%tt)/tt}function $n(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dn(t,e){let n=t.length,r,i;for(;n;)i=e()*n--|0,r=t[n],t[n]=t[i],t[i]=r;return t}function ue(t){return xt(t,H())}function xt(t,e){for(var n=0,r=(t=Dn(Array.from(t),e)).length,i=[],o,f;n<r;)o=t[n],f&&pt(f,o)?++n:(f=Rn(i=Cn(i,o)),n=0);return f}function Cn(t,e){var n,r;if(P(e,t))return[e];for(n=0;n<t.length;++n)if(T(e,t[n])&&P(R(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(T(R(t[n],t[r]),e)&&T(R(t[n],e),t[r])&&T(R(t[r],e),t[n])&&P(dt(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function T(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function pt(t,e){var n=t.r-e.r+Math.max(t.r,e.r,1)*1e-9,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function P(t,e){for(var n=0;n<e.length;++n)if(!pt(t,e[n]))return!1;return!0}function Rn(t){switch(t.length){case 1:return Sn(t[0]);case 2:return R(t[0],t[1]);case 3:return dt(t[0],t[1],t[2])}}function Sn(t){return{x:t.x,y:t.y,r:t.r}}function R(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,f=e.y,u=e.r,s=o-n,a=f-r,l=u-i,c=Math.sqrt(s*s+a*a);return{x:(n+o+s/c*l)/2,y:(r+f+a/c*l)/2,r:(c+i+u)/2}}function dt(t,e,n){var r=t.x,i=t.y,o=t.r,f=e.x,u=e.y,s=e.r,a=n.x,l=n.y,c=n.r,y=r-f,d=r-a,p=i-u,h=i-l,x=s-o,g=c-o,v=r*r+i*i-o*o,_=v-f*f-u*u+s*s,k=v-a*a-l*l+c*c,M=d*p-y*h,I=(p*k-h*_)/(M*2)-r,q=(h*x-p*g)/M,m=(d*_-y*k)/(M*2)-i,$=(y*g-d*x)/M,w=q*q+$*$-1,E=2*(o+I*q+m*$),z=I*I+m*m-o*o,j=-(Math.abs(w)>1e-6?(E+Math.sqrt(E*E-4*w*z))/(2*w):z/E);return{x:r+I+q*j,y:i+m+$*j,r:j}}function nt(t,e,n){var r=t.x-e.x,i,o,f=t.y-e.y,u,s,a=r*r+f*f;a?(o=e.r+n.r,o*=o,s=t.r+n.r,s*=s,o>s?(i=(a+s-o)/(2*a),u=Math.sqrt(Math.max(0,s/a-i*i)),n.x=t.x-i*r-u*f,n.y=t.y-i*f+u*r):(i=(a+o-s)/(2*a),u=Math.sqrt(Math.max(0,o/a-i*i)),n.x=e.x+i*r-u*f,n.y=e.y+i*f+u*r)):(n.x=e.x+n.r,n.y=e.y)}function et(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function rt(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function L(t){this._=t,this.next=null,this.previous=null}function vt(t,e){if(!(o=(t=$n(t)).length))return 0;var n,r,i,o,f,u,s,a,l,c,y;if(n=t[0],n.x=0,n.y=0,!(o>1))return n.r;if(r=t[1],n.x=-r.r,r.x=n.r,r.y=0,!(o>2))return n.r+r.r;nt(r,n,i=t[2]),n=new L(n),r=new L(r),i=new L(i),n.next=i.previous=r,r.next=n.previous=i,i.next=r.previous=n;t:for(s=3;s<o;++s){nt(n._,r._,i=t[s]),i=new L(i),a=r.next,l=n.previous,c=r._.r,y=n._.r;do if(c<=y){if(et(a._,i._)){r=a,n.next=r,r.previous=n,--s;continue t}c+=a._.r,a=a.next}else{if(et(l._,i._)){n=l,n.next=r,r.previous=n,--s;continue t}y+=l._.r,l=l.previous}while(a!==l.next);for(i.previous=n,i.next=r,n.next=r.previous=r=i,f=rt(n);(i=i.next)!==r;)(u=rt(i))<f&&(n=i,f=u);r=n.next}for(n=[r._],i=r;(i=i.next)!==r;)n.push(i._);for(i=xt(n,e),s=0;s<o;++s)n=t[s],n.x-=i.x,n.y-=i.y;return i.r}function fe(t){return vt(t,H()),t}function Tn(t){return Math.sqrt(t.value)}function se(){var t=null,e=1,n=1,r=B;function i(o){const f=H();return o.x=e/2,o.y=n/2,t?o.eachBefore(it(t)).eachAfter(Q(r,.5,f)).eachBefore(ot(1)):o.eachBefore(it(Tn)).eachAfter(Q(B,1,f)).eachAfter(Q(r,o.r/Math.min(e,n),f)).eachBefore(ot(Math.min(e,n)/(2*o.r))),o}return i.radius=function(o){return arguments.length?(t=jn(o),i):t},i.size=function(o){return arguments.length?(e=+o[0],n=+o[1],i):[e,n]},i.padding=function(o){return arguments.length?(r=typeof o=="function"?o:zn(+o),i):r},i}function it(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Q(t,e,n){return function(r){if(i=r.children){var i,o,f=i.length,u=t(r)*e||0,s;if(u)for(o=0;o<f;++o)i[o].r+=u;if(s=vt(i,n),u)for(o=0;o<f;++o)i[o].r-=u;r.r=s+u}}}function ot(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ut(t){return Math.log(t)}function ft(t){return Math.exp(t)}function Ln(t){return-Math.log(-t)}function On(t){return-Math.exp(-t)}function Pn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Qn(t){return t===10?Pn:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Un(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function st(t){return(e,n)=>-t(-e,n)}function Wn(t){const e=t(ut,ft),n=e.domain;let r=10,i,o;function f(){return i=Un(r),o=Qn(r),n()[0]<0?(i=st(i),o=st(o),t(Ln,On)):t(ut,ft),e}return e.base=function(u){return arguments.length?(r=+u,f()):r},e.domain=function(u){return arguments.length?(n(u),f()):n()},e.ticks=u=>{const s=n();let a=s[0],l=s[s.length-1];const c=l<a;c&&([a,l]=[l,a]);let y=i(a),d=i(l),p,h;const x=u==null?10:+u;let g=[];if(!(r%1)&&d-y<x){if(y=Math.floor(y),d=Math.ceil(d),a>0){for(;y<=d;++y)for(p=1;p<r;++p)if(h=y<0?p/o(-y):p*o(y),!(h<a)){if(h>l)break;g.push(h)}}else for(;y<=d;++y)for(p=r-1;p>=1;--p)if(h=y>0?p/o(-y):p*o(y),!(h<a)){if(h>l)break;g.push(h)}g.length*2<x&&(g=Y(a,l,x))}else g=Y(y,d,Math.min(d-y,x)).map(o);return c?g.reverse():g},e.tickFormat=(u,s)=>{if(u==null&&(u=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=At(s)).precision==null&&(s.trim=!0),s=kt(s)),u===1/0)return s;const a=Math.max(1,r*u/e.ticks().length);return l=>{let c=l/o(Math.round(i(l)));return c*r<r-.5&&(c*=r),c<=a?s(l):""}},e.nice=()=>n(jt(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function Fn(){const t=Wn(Mt()).domain([1,10]);return t.copy=()=>Nt(t,Fn()).base(t.base()),lt.apply(t,arguments),t}function Gn(){var t=[],e=[],n=[],r;function i(){var f=0,u=Math.max(1,e.length);for(n=new Array(u-1);++f<u;)n[f-1]=St(t,f/u);return o}function o(f){return f==null||isNaN(f=+f)?r:e[Et(n,f)]}return o.invertExtent=function(f){var u=e.indexOf(f);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(f){if(!arguments.length)return t.slice();t=[];for(let u of f)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(D),i()},o.range=function(f){return arguments.length?(e=Array.from(f),i()):e.slice()},o.unknown=function(f){return arguments.length?(r=f,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return Gn().domain(t).range(e).unknown(r)},lt.apply(o,arguments)}function at(t){return Object.prototype.toString.call(t)==="[object Date]"}function W(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const r=e.map((i,o)=>W(t[o],i));return i=>r.map(o=>o(i))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(at(t)&&at(e)){const o=t.getTime(),u=e.getTime()-o;return s=>new Date(o+s*u)}const r=Object.keys(e),i={};return r.forEach(o=>{i[o]=W(t[o],e[o])}),o=>{const f={};return r.forEach(u=>{f[u]=i[u](o)}),f}}if(n==="number"){const r=e-t;return i=>t+i*r}return()=>e}function ae(t,e={}){const n=qt(t);let r,i=t;function o(f,u){if(i=f,t==null)return n.set(t=f),Promise.resolve();let s=r,a=!1,{delay:l=0,duration:c=400,easing:y=bt,interpolate:d=W}={...e,...u};if(c===0)return s&&(s.abort(),s=null),n.set(t=i),Promise.resolve();const p=zt.now()+l;let h;return r=It(x=>{if(x<p)return!0;a||(h=d(t,f),typeof c=="function"&&(c=c(t,f)),a=!0),s&&(s.abort(),s=null);const g=x-p;return g>c?(n.set(t=f),!1):(n.set(t=h(y(g/c))),!0)}),r.promise}return{set:o,update:(f,u)=>o(f(i,t),u),subscribe:n.subscribe}}export{Wn as A,Rt as B,ue as C,fe as D,$t as E,St as F,F as G,O as N,Jn as a,Kn as b,te as c,Bn as d,S as e,ht as f,Dt as g,gt as h,b as i,J as j,yt as k,Fn as l,Ct as m,ee as n,ne as o,se as p,Gn as q,jn as r,re as s,ae as t,En as u,qn as v,B as w,ie as x,oe as y,zn as z};
